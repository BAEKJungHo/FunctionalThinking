# 클로저

모든 함수형 언어는 클로저를 포함한다. 클로저(closure) 란 그 내부에서 참조되는 모든 인수에 대한 묵시적 바인딩을 지닌 함수를 칭한다.
다시 말하면 이 함수는 자신이 참조하는 것들의 문맥을 포함한다.

## 커링(currying)과 부분적용(partial application)

- 커링
  - 다인수(multiargument) 함수를 일인수(single-argument) 함수들의 체인으로 바꿔주는 방법이다. 이것은 그 변형 과정이지 변형된 함수를
  실행하는 것을 지칭하는 것은 아니다. 함수의 호출자가 몇 개의 인수를 고정 할지를 결정하며 적은 수의 인수를 가지는 함수를 유도해낸다.
  - 부분 적용(partial application)은 다인수 함수를 생략될 인수의 값을 미리 정해서 더 적은 수의 인수를 받는 하나의 함수로 변형하는 방법이다.
  이 방법은 이름이 의미하듯이 몇몇 인수에 값을 미리 적용하고 나머지 인수만 받는 함수를 리턴한다.
  
  
커링은 객체지향 언어에서 팩토리 함수(factory function)를 구현할 상황에서 사용하면 좋다.

커링과 부분 적용은 템플릿 메서드 패턴을 구현할 때 사용할 수 있다.

## 꼬리 호출 최적화(tail-call optimization)

스택 증가는 재귀가 좀 더 보편화되지 못하는 주된 이유 중 하나이다. 재귀는 보통 중간 값을 스택에 보관하게끔 구현되는데, 
재귀에 최적화되지 않은 언어에서는 스택 오버플로를 유발하게 된다. 개발자가 런타임이 이 문제를 처리하는 데 도움을 줄 수 있는 
방법 중 하나는 `꼬리 호출 최적화(tail-call optimization)` 이다. 많은 함수형 언어(ex. erlang(얼랭)) 은 스택증가 없이 재귀를 구현한다.
장기 실행 얼랭 프로세스는 다른 프로세스로부터 메시지를 받아서 메시지에 들어 있는 내용대로 대신 일을 처리하는 애플리케이션의 마이크로서비스와 같은
역할을 한다. 이런 프로세스를 구현 하는데 꼬리 재귀 방식이 사용된다. 메시지를 받고 수행하는 꼬리 재귀 루프는 마이크로서비스의 상태를 내부적으로
관리할 수 있게 해준다. 

함수형 언어들은 깔끔한 구문과 지원을 통해 재귀를 간단한 코드 재활용의 도구로 사용할 수 있게 하지만, 명령어 언어들이 지원을 잘 하지못해서 명령어 언어들은
사용을 잘 안한다.

